Five days after the assault on the Abnegation faction by the Erudite leader Jeanine and her mind-controlled Dauntless soldiers, Jeanine has declared martial law and that the Divergents and their allies are the enemy. Among the Abnegation wreckage, the Dauntless leaders Max and Eric recover a box with all five faction symbols on its sides. Jeanine presumes that it contains data from the city's founders and the means to end the Divergence problem. As only Divergents can open the box, she orders all Divergents to be captured.

The 17-year-old Divergent Tris; her Dauntless boyfriend, Four, her Erudite brother Caleb; and the Dauntless troublemaker Peter hide within the Amity compound, led by Johanna. Eric leads a Dauntless crew to test all the occupants for Divergence. Peter discloses the group's location as the others escape and board a train headed into Factionless territory. Four reveals to the Factionless that his real name is Tobias Eaton, the son of the Factionless leader Evelyn, whom he still resents for leaving him with his abusive father, Marcus. At the Factionless hideout, Evelyn suggests that Dauntless and Factionless unite against Erudite, but Four declines. The next morning, the three leave for Candor to meet up with the remaining Dauntless who were given shelter there, including Tori and Tris's best friend, Christina. During the trek, a disheartened Caleb splits from the group. Upon arrival, Tris and Four are arrested and brought before Candor leader Jack Kang, who intends to deliver them to Jeanine. However, Four pleads for a trial with the use of Candor's truth serum. The serum reveals the real events, and they are absolved, but Tris tearfully admits killing Christina's lover, Will, which angers Christina.

The Dauntless who have sided with Jeanine attack Candor, and many Candor members are shot with metal disks. Max and Eric capture Tris and discover that she has a Divergent reading of 100%, making her the perfect subject to open the box. Four arrives to save Tris and executes Eric for his crimes. Meanwhile, Jeanine, frustrated that none of the Divergent subjects has survived the simulations required to open the box, is approached by Peter, who suggests the best way to get to Tris is by exploiting her selfless Abnegation upbringing.

Back at the Factionless base, Four reluctantly agrees with Evelyn that war is inevitable. Jeanine activates the disks, which are a mind control device that causes Christina and her friends Marlene and Hector to walk robotically towards a ledge and to ask for Tris's surrender. Tris and Tori manage to grab Christina and Hector in time, but Marlene plunges to her death. Overcome by guilt, Tris decides to turn herself in to Jeanine.

At the Erudite headquarters, Tris threatens to kill herself, rather than comply, but she is stopped by the presence of Caleb, who is fully recommitted to Erudite. Tris agrees to undergo the trials if the suicides cease. Under Jeanine, Caleb, and Peter's watch, Tris overcomes the first four simulations before she requires rest. The next day, after discovering that Four was captured while he tried to rescue her, she fails the Amity trial, and her vital signs cease, shocking Jeanine. Peter takes her body to Four, reveals he faked her death, and assists Four in overpowering the guards. Tris is now determined to unveil the box's message and so with Peter's help, they return to the simulation room, and she successfully opens the box in front of everyone. A hologram explains that the walled city and the faction system were part of an experiment, with the Divergents as its ultimate goal. The world is waiting outside for them to rejoin it. Realizing that she has lost all of her power, Jeanine orders the box to be buried and Four and Tris to be executed. However, the Factionless break into the room, incapacitate Max, and rescue the pair. Jeanine and Caleb are arrested and the message is broadcast to the entire city. Hailed as a hero, Tris is eager to explore the outside world. In her cell, Jeanine wonders what might lie beyond the wall. Evelyn tells Jeanine that she will never find out, then kills her.

