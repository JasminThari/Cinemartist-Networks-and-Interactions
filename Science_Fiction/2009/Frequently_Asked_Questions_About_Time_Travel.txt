{{Anchor|Plot outline|Plot|Synopsis}}
Ray (Chris O'Dowd) has been fired from his job as a costumed guide in a theme park attraction. That evening, Ray and his friends Pete (Dean Lennox Kelly) and Toby (Marc Wootton) go to the cinema, later complaining about the film on their way to the pub.

At the pub, they compose a "Letter to Hollywood" with tips on how to stop making bad movies, on the back of a sheet from Toby's "brilliant ideas" notebook. Ray meets an American girl named Cassie (Anna Faris), with dark brown hair, who claims to be a member of a future organisation that fixes "time leaks", who warns Ray about "Editors": people who travel in time to kill famous artists immediately after they've created their greatest work, to avoid a later decline in quality. Cassie tells Ray that future books will be written about him, and refers to him as "Ray the Great". Ray assumes that his friends have set him up with Cassie to make him feel better after losing his job, and after a brief conversation Cassie leaves. When Ray relates this entire story to Pete and Toby, they think he's invented the entire encounter.

Pete leaves them to use the "Gents" toilet, but when he returns the bar is full of dead bodies, among them a bearded version of himself. At first he hides back in the toilet, but when he re-enters the room it has returned to normal. He tells his friends what happened, assuming it must be related to Cassie's time leaks. Ray assumes that his friends are trying to take his mind off losing his job. 

The three of them jump 30 minutes back in time and find their earlier selves, just finishing the composition of their "Letter to Hollywood." Ray realises that Cassie is still there, talking to an earlier version of himself. He stops her before she leaves, explaining that they found the time leak in the men's toilet. She returns one second later, with a different hairstyle, having spent six months rectifying the time leak. Cassie claims everything has been fixed, but when a couple enter the garden ahead of schedule she leaves to investigate.

Pete, Ray, and Toby assume everything is resolved, but when they leave the toilet they find themselves in a post-apocalyptic version of the pub. Pete decides to flee back into the women's toilet again, but emerges from the door of the men's toilet, bearded, filthy and traumatised. He repeatedly insists that that he doesn't want to talk about his experiences, but later describes some of the things he's seen and been through. Strange sounds cause them to run for the toilet again, so that they miss seeing a building-sized ant eat a man, who is pushing a shopping trolley with a loud squeaky wheel.

Ray and Toby try to stop Pete from warning earlier versions of themselves, and creating a paradox that will make them cease to exist. When he runs out after one solo version of himself, they follow him out into a themed-night party at the pub. An earlier version of Toby is discovered writing in a page of his notebook, and they reason that whatever was on the other side of that piece of paper is how they became famous. In the crowd at the party they meet a second time traveller named Millie (Meredith MacNeill), who claims that she trained Cassie and that she was sent by Cassie to take them back to their own time.

Back at their table in the pub, they read what was on the back of the piece of paper, although the contents are not disclosed to the viewers. They express wonderment at the idea that it could have made them famous, and decide that the paper must have been found there by someone. Ray finds Cassie outside, for whom another six months have passed. She tells Ray that Millie was an Editor sent to kill them at their finest hour. He goes back inside to warn Pete and Toby while Cassie tries to get help, but she finds that her time machine has been taken offline and she follows him in. Ray and Pete want to destroy the paper, so that Millie has no reason to kill them, but Toby is hesitant to give up their future fame. Millie arrives, incapacitates Cassie and promises Toby that she'll make them all legends in return for the piece of paper. He refuses, and as they try to destroy the paper Millie seemingly kills everyone in the pub. She leaves, with the piece of paper sitting on top of Ray, Toby and Pete's table.

An earlier version of Pete enters the bar, sees the bodies, and flees the room in horror. Just then, the bloodied Ray knocks over a pint of beer on to the piece of paper, destroying it. Time is shown reversing and resetting itself, until all three are sitting back at their table in the pub, from before any of the time travel happened, but with a full recollection of events. The piece of paper, now illegible, remains on their table. They decide to go to a different pub.

As they walk down a path towards a railway arch, Ray tells Pete that it's probably all over, because now that the page is destroyed none of the night's events should have ever happened. Moments later Cassie appears through a big glowing portal, with long golden-blonde hair. She reveals that she and Ray have been dating for two years - confirming they've had plenty of sex in that time - and that dumping the pint in the pub caused a feedback loop through the fabric of space-time resulting in time leaks everywhere. She says they have only fourteen hours to save the earth (a reference to the film Flash Gordon), and urges them to accompany her to a parallel universe. Ray eventually talks a reluctant Pete and Toby into going with him through the portal.

In a mid-credits scene, Ray emerges from behind a wall with Pete. Ray says that it appears the earlier versions of them have gone. However when Pete tells Toby he can come out, a second Pete emerges instead. In an end-credits scene, two Tobys pass by Ray and the two Petes, one fleeing from the other, with one of the Petes remarking: “This is all getting a little bit too complicated.”

