After her mother dies, 17-year-old Mary Katherine (“M.K.”) moves in with her eccentric scientist father Professor Bomba in Danbury, Connecticut. Bomba has spent his life researching the Leafmen, tiny humanoid soldiers who protect the neighboring forest from wicked creatures called Boggans. M.K. is irritated by her father’s work, believing his theories to be nonsense. Meanwhile, Nod, an independent young Leafman, decides to quit, much to the ire of his no-nonsense leader Ronin, who promised Nod’s late father he would look out for him.

The forest’s benevolent ruler, Queen Tara, must choose her successor and arrives at a pool of lily pods, occupied by a laid-back slug named Mub and a wannabe Leafman snail named Grub. Immediately after she chooses a pod, the Boggans attack. The Boggans overwhelm the Leafmen, while Tara flees with Ronin on his hummingbird mount. The pair are pursued by the Boggans’ leader Mandrake and his son Dagda. Dagda is killed by Ronin, but not before he badly wounds Tara with an arrow.

M.K. decides to leave after getting into an argument with Bomba about his research. Outside, M.K. encounters the falling Tara, who entrusts the pod to her, shrinks her with magic, and tells her to take it to Nim Galuu, a glowworm wizard, before finally dying. M.K. is accompanied by Ronin and the Leafmen, along with Mub and Grub. Ronin recruits a reluctant Nod after saving him from short-tempered toad gangster Bufo. 

Ronin, Nod, M.K., Mub, and Grub meet Nim Galuu, who informs them that the pod must bloom that night, while exposed to the light of the full moon. When Ronin leaves, Nod takes M.K. on a deer ride and they begin to fall for each other. Meanwhile, Mandrake, enraged by his son's death, interrogates Bufo for the pod’s location. Mandrake goes to Nim Galuu's place, where he learns that if the pod blooms in darkness, it will birth a dark prince who will help Mandrake destroy the forest. He takes the pod and kidnaps Mub and Grub. Ronin scolds Nod for not being there to protect the pod. 

To get into Boggan territory undiscovered, M.K., Nod, and Ronin enter Bomba's house to get some disguises. There, M.K. learns that the Leafmen have deliberately been leading Bomba off their trail the whole time. Bomba spies them and captures M.K., but faints when he sees her. M.K. marks the location of Moonhaven on a map of the forest before rejoining Nod and Ronin. Upon reaching Boggan territory, Ronin causes a distraction while M.K. and Nod rescue Mub, Grub, and the pod. An outnumbered Ronin sacrifices himself to ensure the others escape. 

Before the full moon can open the pod at Moonhaven, Mandrake's bats block the light, causing the pod to begin blooming in darkness. While the Leafmen set out to fight the Boggans, M.K. tries to get her father’s attention by using the various cameras he had set in the forest. However, upon regaining consciousness, Bomba concludes that he has been insane all these years and begins scrapping his research. He changes his mind when he sees the red push-pin that M.K. had put on his map.

Bomba is overjoyed to see that he has been right and follows M.K. to Moonhaven. M.K. uses the bat sounds on Bomba’s iPod to lure Mandrake's bats away. Meanwhile, Mub and Nim Galuu try to stop Mandrake from reaching the pod, but are unsuccessful. Just then, Ronin reappears, having survived the attack. He is outdone by Mandrake, but Nod, who finally realizes the importance of teamwork, comes to his aid. Before Mandrake can obtain his victory, the pod fully blooms in moonlight, as Mandrake is consumed by the burl of a nearby tree.

A flower child who earlier aided in Tara’s escape is made the new queen. Grub becomes a Leafman, Nod and Ronin reconcile, and Nod and M.K. share a kiss before M.K. is returned to her original size. M.K. reunites with Bomba and later becomes his assistant; the two of them remain in contact with their small friends as they continue the research of their world.

