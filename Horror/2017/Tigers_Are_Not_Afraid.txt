Estrella is a young girl in a Mexican city devastated by the Mexican Drug War. While working on a fairy tale writing assignment, Estrella's classroom is disrupted by gunfire outside the school. Amid the panic, Estrella's teacher hands her three pieces of chalk she says will grant three wishes. Following the incident, classes are indefinitely suspended.

Street orphan Shine steals a gun and an iPhone from Caco, a henchman of crime boss Chino, who is actually politician Servando Esparza. Shine points the gun at Caco, who is drunkenly oblivious to the theft, but is unable to shoot.

Estrella walks home past a dead body on the street. A trail of blood from the body follows Estrella to her house, where Estrella discovers that her mother is missing; a probable victim of rampant drug cartel-related violence from Chino's human trafficking ring â€˜The Huascas.' Growing lonely and desperate for food, Estrella wishes for her mother to return. Estrella begins experiencing haunting visions of her mother as a ghost imploring Estrella to "bring him to us." Soon after, Estrella catches Shine looting her house. Estrella follows Shine back to his hideout and meets fellow orphans Pop, Tucsi, and Morro. Shine refuses to feed her or welcome her into his gang but Estrella stays with the boys anyway.

Caco comes looking for his stolen gun and phone. The other children escape, but Morro is kidnapped. Shine gives Estrella the stolen gun and tells her that if she kills Caco, he will let her remain in his gang. Estrella sneaks into Caco's apartment. While aiming the weapon, Estrella makes a wish that she didn't have to kill Caco. She then sees that Caco is already dead. Estrella frees Morro and tells Shine that she killed Caco. Later that night, Estrella has another vision of her mother. She warns that the man who really killed Caco will be looking for Estrella, and Estrella must bring the man to her. Shine, Estrella, Pop, Tucsi, and Morro bring the other rescued boys back to their rival gang leader Brayan. Brayan taunts Shine for having Estrella kill Caco when Shine should have been the one to do it. Estrella later finds Shine crying over the fact that he couldn't kill Caco. Shine confesses that he keeps Caco's phone because it contains the only picture of his own missing mother, his family photos being lost when the Huascas set fire to his home. Having heard about Estrella from Brayan, Caco's brother Tio calls Caco's phone to threaten the children.

After the kids decorate soccer balls, Shine tells Estrella more about his mother. Shine asks Estrella if she might use her last wish to remove the burn scars on his face. Estrella refuses, claiming something bad happens every time she makes a wish. Tio captures Shine while the other boys stage an imaginary talent show. Estrella has another haunting vision of her mother along with other murder victims while hiding from Tio before also being captured. Morro shoots Tio to save his friends, but Tio shoots and kills Morro. The other children escape.

Wondering why recovering the phone is so important to the Huascas, Shine and Estrella closely examine its contents. They discover Caco recorded a video of Chino killing a captive woman. Estrella has Shine call Chino, who threatens the children. Estrella bargains to turn over the phone if Chino makes the remaining Huascas disappear. Chino agrees and arranges a meeting. He also reveals that he was the one who actually killed Caco because Caco could not turn over the stolen phone. In the wake of the revelation that she did not kill Caco, Shine and the other two boys shun Estrella. Haunting visions of dead people chase Estrella, again telling her to "bring him to us." Fearful of Chino, Pop and Tucsi steal the phone from Shine. They show the footage to two policemen, but the officers refuse to act when they recognize the murderer as Chino. Shine takes back the phone and notices that the bracelet worn by the murdered woman in the video is identical to the bracelet worn by Estrella's mother in a photo he had found earlier. Morro's ghost tells Estrella where to find the boys. When they reconnect, Estrella insists that they must go to Chino or else he will kill them all. After burying Morro in a box dropped into water, Estrella, Shine, Pop, and Tucsi go to the meeting with Chino, Tio, and another henchman in an abandoned building, where Shine turns over the phone. When Shine claims to not know the password, Chino crushes the phone with his foot. Chino then executes Tio and the other henchman, explaining to Estrella that he honored his part of the agreement. Pop and Tucsi run away.

Recognizing the building, Estrella insists on finding her mother. Shine reveals that he still has Caco's phone because he gave Chino a decoy, and then reveals that the woman in the video was her mother. He advises Estrella that wishes aren't real, but she still chalks Shine's cheek and makes a final wish that his scars disappear. Chino suddenly appears and shoots Shine through his face, having figured out Shine's deception. Estrella flees while Chino chases after her. Morro's tiger doll leads Estrella into a shaft, and she falls into a room containing numerous dead bodies, including her mother's. Estrella tearfully connects with a vision of her mother when her mother's bloody body briefly reanimates, and transfers her bracelet to Estrella. Estrella uses Caco's phone to lure Chino into the room and trap him inside. The ghosts of his victims are heard killing Chino.

Estrella encounters Shine's ghost. After a brief farewell, Shine enters the body pit room and sets it on fire. On her way out of the building and into an open field, Estrella encounters a tiger that escaped from a zoo.

