Best friends Matty and Michael break up with their high-school girlfriends, Em and Ava, while making a pact to have a sexual relationship with an older woman. Matty also comes out as gay to Em. Matty and Michael make a pot brownie as a motivational prize for having sex before prom, but Michael feels betrayed when Matty comes out to him. He avoids Matty until Em explains that his friend needs his support, and they go to a gay club where they unexpectedly meet two of their teachers. Outside the club, a young man named Greg hits Michael's car and they get into a fight.

Michael tries auditioning as a vocalist for Matty's band. At night, the friends go to another gay club where they take drugs and dance. Matty stops by Em's house and they have sex. Later, Matty meets Greg and they have fun together. Michael fails to get back together with Ava, and Em drives him to the garage and helps him talk with his mechanic. Later, after giving up on the band, Michael is told by Em that Ava had been cheating on him. They hang out at a construction site and Michael begins to proposition Em when they see Matty making out with Greg, and all four feel awkward.

Matty and Michael mend their friendship the next day at a go-kart track. Michael tries to proposition Em again but she tells him about the night she and Matty had sex, and he leaves her. Michael gets drunk and outs Matty to his parents, and Matty sends him a hate message. Em criticizes Michael the next day at school. Ostracized, Michael returns to the first gay bar and meets Greg, and they learn that Matty won't talk to either of them.

At prom, Michael brings Greg as his date while Matty brings Em. Michael gets on stage and sings a song from his and Matty's fourth-grade play, when they became best friends. Michael is accused of being gay and he responds that Greg is a cool guy and that he doesn't care if people call him gay. Michael and Matty apologize to Em and Greg, and go out to the parking lot. Michael was going to get rid of the pot brownie but Matty says that it's beautiful and artistic. They reconcile and, joined by Em and Greg, eat the brownie together. Too high to go back into the prom, they go out to a gay club and dance together, on what Matty declares to be the best day of his life.

