{{Long plot|date=July 2020}} 
''CQ'' uses the format of a film within a film. In Paris in 1969, young and introverted film editor Paul Ballard (Jeremy Davies) is currently working on a science-fiction adventure film set in the futuristic year of 2001, called ''Codename: Dragonfly'', written and directed by renowned director Andrezej (Gérard Depardieu).

The main character of ''Codename: Dragonfly'' is the eponymous Dragonfly, a sexy freelance super-agent who lives in a spaceship perched atop the Eiffel Tower and undertakes assignments for the "World Council". Dragonfly's latest mission is to stop a revolutionary leader known as "Mr. E" (Billy Zane) who is based on the "far-out" side of the Moon. The World Council turns for help to Dragonfly, reluctantly so because she charges huge sums of money - with which the council literally showers her.

Andrezej is utterly infatuated with his film's star who is playing Dragonfly, Valentine (Angela Lindvall), a young American whom he discovered at a political rally. Paul, an aspiring filmmaker himself, regularly borrows cameras and other equipment in order to film his own project: a black-and-white documentary of his own self-reflections. When the producers prove unhappy with Andrezej's ideas - or apparent lack of any real idea - for the movie's ending, they fire him. They are particularly upset with Andrezej's ideas for what they had expected would be an action movie: Andrezej believes the movie should end with a whimper instead of a bang, in order to subvert the audience's expectations.

Andrezej is first replaced with the shallow, flashy Felix DeMarco (Jason Schwartzman), but ultimately the producers settle on Paul as the new director. They impress on him that his main task is to come up with a satisfying end to the movie, the filmmakers having determined that Dragonfly must chase after and finally confront a mysterious figure in a tunnel alleyway, but no one having been able to decide whom that mysterious figure should be.

Much as Andrezej before him, Paul finds his efforts to complete ''Codename: Dragonfly'' stymied by his infatuation both with Valentine and with the persona of Dragonfly. Paul has a girlfriend, Marlene (Elodie Bouchez), an Air France flight attendant who makes time for Paul despite her schedule, his obvious growing infatuation with Valentine, his obsession with film making and his self-absorption. Ultimately, Marlene leaves Paul. Paul is also challenged by the apparent work of a saboteur, who cuts up footage before it can be edited, and who sends cryptic threatening messages to the remaining crew. Others suspect Andrezej - who resents being fired and losing control of the film.

Paul puts himself under increasing pressure from his inability to come up with an ending for ''Codename: Dragonfly'' - which he is told “has to be fabulous” - although isolated notions and images might slowly be coming together in his head. The movie's high-living Italian producer, Enzo (Giancarlo Giannini), not intimately involved in the production shoot but still subtly fatherly and supportive, tells Paul a good ending must be exciting and must finally resolve the mystery for the audience but “surprise them a little.” “Astonish me,” he challenges Paul. Paul continues moving forward, beginning to make certain changes in the plot, and occasionally plunging into personal fantasies in which the exotic character of Dragonfly soothes him as his loving companion against the stress of not knowing how to finish the movie.

As the crew prepares to shoot the climactic chase scene in ''Codename: Dragonfly'', the saboteur sneaks onto the set and steals their finished footage. Valentine (still costumed and made up as Dragonfly from the shoot) and Paul jump into Dragonfly's futuristic prop car from the movie and chase the saboteur through Paris, with the fantasy of Dragonfly's world melding slightly into Paul's reality, and as the car chase ends Paul and Valentine/Dragonfly kiss. Paul on foot chases after and finally confronts the saboteur in an alleyway on the banks of the Seine not unlike the climactic alleyway in ''Codename: Dragonfly'', and it is confirmed the saboteur is Andrezej. In a moment of vulnerability and mutual respect as filmmakers - even shared identity - Paul convinces Andrezej to return the film, while Andrezej secures Paul's promise that a main aspect of the movie's ending will remain as Andrezej had wished, though their exchange reveals nothing else of the ending. And, in a secondary scene shortly after, Paul gets a hint that slavishly filming all the events in one's life may not be the best way to capture their fleeting genuine essence.

The movie's ending is shot according to Paul's idea. It plays for us as it will be seen in the finished movie, and the identity of the mysterious figure chosen by Paul is revealed. The ending Paul devises is everything the producer asked for. It is unexpected, satisfying, and for ''Codename: Dragonfly'' even astonishing, carrying in its plot twist an emotional heft and genuineness that lifts the otherwise cheesy movie. The final scene finishes for us and fades out.

Finally, Paul is a guest speaker at a French film festival in mid-1970. Despite signs of stature, he is asked by a festival participant to pass along a script to Felix DeMarco, as though he is still in the other man's shadow and suggesting quality and sincerity must always compete with the shallow and foolish. The festival also presents Paul's own film - the collection of self-reflections he'd been shooting over the course of ''Codename: Dragonfly.'' In voiceovers accompanying Paul's film, it is established that Marlene and Paul never got back together, and the last shot of his film, finally transitioning into color, suggests Valentine is now a part of his life.

