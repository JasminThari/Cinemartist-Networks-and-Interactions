{{long plot|date=October 2011}}
Flynn Carsen (Noah Wyle) has been on many death-defying missions in his first year as Librarian. He almost fails to retrieve a Crystal Skull by holding on to another find, and Judson (Bob Newhart), his mentor, warns him that "sometimes you have to give up what you want for the greater good" It's “the difference between a good librarian and a great librarian.”

At Flynn's 32nd birthday party, an old family friend, "Uncle" Jerry (Robert Foxworth), appears unexpectedly. Flynn's mother (Olympia Dukakis) gives Flynn the pictures he drew as a child to illustrate his father's "silly bedtime stories" and his father's amulet. Flynn finds his apartment ransacked; he is ambushed and robbed of a scroll he received in the mail that day. The scroll is a map containing clues to the location of King Solomon's Mines. Judson tells him that the Key of Solomon (a book), hidden in the mines will give the reader of it control over time and space; the secret must be kept.

Searching Roman ruins in Morocco, Flynn meets Emily Davenport (Gabrielle Anwar), an archaeologist who holds more degrees than he does. (They argue constantly.) Flynn and Emily are attacked after they find a piece to the map legend, but their assailant becomes an ally when Flynn's amulet lights up and identifies him as one of the order of the Cryptic Masons. He tells them where to find the rest of the map legend. Emily recognizes the markings as Akon—a cipher, not a language—and  insists on coming with him to Kenya. A General Samir is on the trail of the mines as well. He threatens the family of the man who helped Flynn escape, and he tells them where Flynn was headed.

After a ride on a honeymoon tour bus and several days' hiking across the Serengeti, Flynn and Emily come upon a man buried up to his neck in sand for stealing. The two adventurers dig him out; Jomo (Hakeem Kae-Kazim) insists on being their guide. On a rest break, Flynn shows Emily the drawings he made as a child (his mother slipped them into his bag). Emily confides to Flynn her obsession since childhood with the mysterious Queen of Sheba, wife of Solomon. He tells her how his father was shot and killed by a mugger. After days of hiking, they finally reach a village and recognize a local fortune teller's sign as a clue. Unknown to them, Samir's people have taken over the shop. Just as Flynn finds the other piece of the map legend, Emily sees the enemy coming; they flee.

To their amazement, they run into Flynn's Uncle Jerry, boarding a train for Mombasa. He hustles them aboard, feeds the pair, and tells Flynn that the amulet his father left him has been passed down through many generations. After dinner, Emily and Flynn talk about the Akon cypher's connection to the Song of Solomon; and discover the magical musical key to the map. Judson appears in the mirror and tells Flynn to fly home. He refuses. Next morning, they travel to Three Witches Mountain near Mombasa; the terrain reminds Flynn of his drawings. He realizes that his father must have been preparing him for this journey. With Samir in pursuit, they penetrate the caves. Treasure litters the caverns; a huge head of Queen Sheba, carved out of the stone wall, looms over all. Flynn spots a book on a pedestal, opens it, and realizes that this is the Key. The text glows and flows into his hand.

Samir drags in a disheveled Uncle Jerry and beats him.  Flynn tosses General Samir the book but it is Uncle Jerry who thanks him. He shot Flynn's father because he refused to reveal the secret of the mine. Uncle Jerry wants to turn back time and win Margie Carsen for himself. Jerry enters a chamber lined with niches where dead kings lie, with a bubbling lava pit below, and reads aloud the incantation that will give him power over space and time, stirring up ghosts as he does so. Flynn and Emily are flung into a pit that fills with water. Flynn comes close to drowning and experiences a vision of Judson on a white beach, then finds that he and Emily are being rescued by the faithful Jomo, who has followed them to fulfill his life debt. Samir dies when Emily throws oil on him and it catches fire from the lighter he is holding.

Flynn wrestles the book from Jerry, leaving the incantation unfinished. As Flynn is about to throw the book into the lava pit, Jerry tempts him: He can bring his father back.  Emily and Jomo burst into the cave to find Flynn uttering the incantation. Emily uses a spear to reflect light on Flynn's amulet, breaking the spell. When Flynn throws the book into the lava pit, Jerry leaps after it. Flynn, Emily, and Jomo flee as the cave crumbles and explodes..

In a brief epilogue, Flynn consigns the amulet and guardianship to Jomo. Emily pursues her search for the Queen of Sheba in Tunisia. Evoking ''Casablanca'', Flynn murmurs "Of all the gin joints in all the world, she had to walk into mine."

Flynn returns to the Library and tells Judson that he destroyed the book. Judson reminds him that by giving up the chance of bringing his father back by destroying the book, Flynn sacrificed what he wanted "for the greater good", and was now a "great librarian". When Flynn asks Judson why he said nothing about his father's connection to the mines, Judson says Flynn had to learn this on his own; he is sure that wherever Flynn's father is, he is proud of his son—and Judson is, too.

