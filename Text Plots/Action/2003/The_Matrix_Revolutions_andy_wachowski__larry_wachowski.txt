Picking up immediately where ''Reloaded'' ended, Neo and Bane still lie unconscious in the medical bay of the ship ''Hammer''. Inside the Matrix, Neo is trapped in a subway station named Mobil Ave, a transition zone between the Matrix and the machine world. He meets a "family" of programs, including a girl named Sati. The "father" tells Neo the subway is controlled by the Trainman, a program loyal to the Merovingian. When Neo tries to board a train with the family, the Trainman refuses and overpowers him.

Seraph contacts Morpheus and Trinity on behalf of the Oracle, who informs them of Neo's confinement. Seraph, Morpheus and Trinity enter Club Hel, where they confront the Merovingian and force him to release Neo. Troubled by visions of the Machine City, Neo visits the Oracle, who reveals that Smith intends to destroy both the Matrix and the real world. She tells him that "everything that has a beginning has an end." After Neo leaves, a large group of Smiths assimilates Sati and Seraph. The Oracle does not resist assimilation, and Smith gains her powers of precognition.

In the real world, the crews of the ''Nebuchadnezzar'' and the ''Hammer'' find and reactivate Niobe's ship, the ''Logos''. They interrogate Bane, who says that he has no recollection of the earlier massacre. As the captains plan their defense of Zion, Neo requests a ship to travel to the Machine City. Motivated by her encounter with the Oracle, Niobe offers him the ''Logos''. Neo departs, accompanied by Trinity. Bane, who has stowed away on the ''Logos'', takes Trinity hostage. Neo realizes that Bane has been assimilated by Smith, and a fight ensues. Bane burns Neo's eyes with a power cable, blinding him. Neo discovers that he can still "see" machine source code in the real world and uses this ability to kill Bane. Trinity pilots them to the Machine City.

Niobe and Morpheus rush toward Zion in the ''Hammer'' to aid the human defenses. Zion's shipyard is overwhelmed by a horde of Sentinels, and the fatally wounded Captain Mifune instructs Kid to open the gate for the ''Hammer'', which he does with the aid of Zee. When it arrives, it discharges its EMP, disabling all the Sentinels present but also Zion's remaining defenses. The humans are forced to retreat and wait for the next attack, thinking it will be their last stand.

The ''Logos'' is attacked by a wave of machines outside of the Machine City. To avoid the onslaught, they fly above them to open sky, and then crash into a building, fatally wounding Trinity. Neo enters the Machine City and encounters the leadership of the machines in the form of the "Deus Ex Machina." Neo warns that Smith plans to conquer both the Matrix and the real world and offers to stop Smith in exchange for peace with Zion. The Deus Ex Machina agrees, and the Sentinels shut down, stopping the attack on Zion.

The Machines plug Neo into the Matrix, whose population has now been entirely assimilated by Smith. The Smith with the Oracle's powers steps forth, telling Neo that he has foreseen his victory against Neo. After a protracted fight, Neo appears to concede defeat and allows himself to be assimilated. Outside the Matrix, the machines send a surge of energy into Neo's body, which inside the Matrix causes the Neo-Smith clone, then all the other Smith clones, to be destroyed, restoring the Oracle and killing Neo. The Sentinels withdraw from Zion, Morpheus and Niobe embrace, and Neo's body is carried away by the machines.

The Matrix is rebooted, and the Architect meets the Oracle in a park. They agree that the peace will last "as long as it can" and that those humans who desire it will be offered the opportunity to leave the Matrix. The Oracle tells Sati (who created a beautiful sunrise for Neo) that she thinks they will see Neo again. Seraph asks the Oracle if she knew this would happen. She replies that she did not know, but she believed.

