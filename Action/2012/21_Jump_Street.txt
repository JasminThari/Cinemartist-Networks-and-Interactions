In 2005, unpopular-yet-scholarly student Morton Schmidt and popular-yet-underachieving athlete Greg Jenko miss their school prom, Schmidt being rejected by the girl he was trying to ask to be his date and Jenko being barred from attending due to failing grades. Seven years later, the duo meets again at the police academy and become friends and partners on bicycle patrol. They catch a break when they arrest Domingo, the leader of a one-percenter motorcycle gang, but are forced to release him after they failed to read him his Miranda rights.

The duo is reassigned to a revived scheme from the 1980s, which specializes in infiltrating high schools. Captain Dickson assigns them to contain the spread of a synthetic drug called HFS ("Holy Fucking Shit") at Sagan High School. He gives them new identities and enrolls them as students, giving them class schedules fitting their previous academic performances; Jenko taking mostly arts and humanities, and Schmidt taking mostly science classes, but the duo mixes up their identities. Schmidt gets a lead on HFS from classmate Molly, and he and Jenko meet the school's main dealer, popular student Eric. The two take HFS in front of him to maintain their cover. After experiencing the drug's effects, the duo discovers that Schmidt's intelligence now makes him popular, while Jenko's lax attitude is frowned upon.

Eric takes a liking to Schmidt, who develops a romantic interest in Molly. Jenko becomes friends with the students in his AP Chemistry class and finds himself becoming more interested in geeky hobbies and academic pursuits. Schmidt and Jenko throw a party at Schmidt's parents' house, where they are living during the course of their assignment, and invite Eric. During the party, a fight breaks out between Schmidt, Jenko, and some party crashers. Schmidt wins the fight, solidifying his social status and gaining Eric's trust. Jenko's friends hack Eric's phone to enable them to listen in on his conversations.

At a party at Eric's house, using the phone hack, Jenko and his friends overhear information about an upcoming meeting between Eric and his supplier, but also catch Schmidt making disparaging comments about Jenko. The rift between the duo grows as their new school life intrudes upon their official police work. Schmidt and Jenko track Eric to a cash transaction with the distributors of HFS—the motorcycle gang from the park—and a chase ensues on the freeway. They return to school, argue, and eventually begin fighting, which disrupts the school play. They are expelled from school and fired from the Jump Street program.

Eric, stressed and terrified, recruits Schmidt and Jenko as security for a deal taking place at the school prom. While dressing for the prom, Schmidt and Jenko rekindle their friendship. At the prom, they discover that the supplier is the physical education teacher, Mr. Walters, who created the drug accidentally and started selling it to the students to supplement his teacher's salary and pay alimony to his ex-wife. Having caught Eric smoking marijuana, he was able to persuade him to be his dealer.

The motorcycle gang arrives for the deal but Molly interrupts them and starts arguing with Schmidt. As a result, gang leader Domingo recognizes Schmidt and Jenko and orders his men to kill them. Two of the gang members reveal themselves as undercover DEA agents Tom Hanson and Doug Penhall, and former members of the 21 Jump Street program. In the ensuing exchange of gunfire, Hanson and Penhall are both shot and mortally wounded. Mr. Walters and Eric escape with the money and Molly as a hostage; the gang, Schmidt, and Jenko follow close behind. Jenko creates a homemade bomb and uses it to kill the gang. Mr. Walters shoots at Schmidt but Jenko takes the bullet to his arm, sparing Schmidt's life. In response, Schmidt shoots Mr. Walters, unintentionally severing his penis. They arrest Mr. Walters and Eric, successfully reading the former his Miranda rights. Schmidt and Molly share a kiss.

Both officers are congratulated and reinstated in the Jump Street program as Dickson gives them a new assignment: infiltrating a college.

